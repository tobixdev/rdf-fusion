---
source: bench/tests/plans/bsbm_business_intelligence.rs
expression: canonicalize_uuids(&explanation.optimized_logical_plan.to_string())
---
Projection: ENV_PT(productType) AS productType, ENV_PT(reviewCount) AS reviewCount
  Sort: ENV_SORT(reviewCount) DESC NULLS FIRST, ENV_SORT(ENV_PT(productType)) ASC NULLS FIRST, fetch=10
    Projection: productType, enc_int64_as_rdf_term(00000000000000000000000000000001) AS reviewCount
      Aggregate: groupBy=[[productType AS productType]], aggr=[[count(review) AS 00000000000000000000000000000001]]
        Projection: rhs.productType AS productType, rhs.review AS review
          Inner Join: lhs.reviewer = rhs.reviewer
            SubqueryAlias: lhs
              QuadPattern (?reviewer <http://www4.wiwiss.fu-berlin.de/bizer/bsbm/v01/vocabulary/country> <http://downlode.org/rdf/iso-3166/countries#US>), active_graph: Union of [DefaultGraph] 
            SubqueryAlias: rhs
              Projection: rhs.productType AS productType, rhs.review AS review, rhs.reviewer AS reviewer
                Inner Join: lhs.producer = rhs.producer
                  SubqueryAlias: lhs
                    QuadPattern (?producer <http://www4.wiwiss.fu-berlin.de/bizer/bsbm/v01/vocabulary/country> <http://downlode.org/rdf/iso-3166/countries#AT>), active_graph: Union of [DefaultGraph] 
                  SubqueryAlias: rhs
                    Projection: lhs.productType AS productType, rhs.producer AS producer, rhs.review AS review, rhs.reviewer AS reviewer
                      Inner Join: lhs.productType = rhs.productType
                        SubqueryAlias: lhs
                          QuadPattern (?productType <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> <http://www4.wiwiss.fu-berlin.de/bizer/bsbm/v01/vocabulary/ProductType>), active_graph: Union of [DefaultGraph] 
                        SubqueryAlias: rhs
                          Projection: lhs.producer AS producer, rhs.productType AS productType, rhs.review AS review, rhs.reviewer AS reviewer
                            Inner Join: lhs.product = rhs.product
                              SubqueryAlias: lhs
                                QuadPattern (?product <http://www4.wiwiss.fu-berlin.de/bizer/bsbm/v01/vocabulary/producer> ?producer), active_graph: Union of [DefaultGraph] 
                              SubqueryAlias: rhs
                                Projection: lhs.product AS product, lhs.productType AS productType, rhs.review AS review, rhs.reviewer AS reviewer
                                  Inner Join: lhs.product = rhs.product
                                    SubqueryAlias: lhs
                                      QuadPattern (?product <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> ?productType), active_graph: Union of [DefaultGraph] 
                                    SubqueryAlias: rhs
                                      Projection: lhs.review AS review, lhs.product AS product, rhs.reviewer AS reviewer
                                        Inner Join: lhs.review = rhs.review
                                          SubqueryAlias: lhs
                                            QuadPattern (?review <http://www4.wiwiss.fu-berlin.de/bizer/bsbm/v01/vocabulary/reviewFor> ?product), active_graph: Union of [DefaultGraph] 
                                          SubqueryAlias: rhs
                                            QuadPattern (?review <http://purl.org/stuff/rev#reviewer> ?reviewer), active_graph: Union of [DefaultGraph]
